{% extends "base.html" %}
{% load i18n %}
{% load pba_tags %}
{% block content %}
    <style>
    /* Include the actual petition styles */
    .petition-letter {
        border: 1px solid lightgrey;
        border-radius: 1em;
        padding-left: 1em;
        padding-right: 1em;
        background-color: #F8F8F8;
    }
    .petition {
        margin: 20px 0;
    }
    .signature-card {
        border: 1px solid grey;
        border-radius: 1em;
        padding: 1em;
        margin: 1em 0;
        background-color: #fafafa;
    }
    </style>
    <div class="container">
        <div class="row">
            <div class="col-12">
                {# Admin status indicator #}
                <div style="padding: 10px;
                            background:
                            {% if petition.active %}
                                #d4edda
                            {% else %}
                                #f8d7da
                            {% endif %}
                            ;
                            border: 1px solid
                            {% if petition.active %}
                                #c3e6cb
                            {% else %}
                                #f5c6cb
                            {% endif %}
                            ;
                            border-radius: 4px;
                            margin-bottom: 20px">
                    <strong>Status:</strong>
                    {% if petition.active %}
                        <span style="color: #155724;">✓ Active</span>
                    {% else %}
                        <span style="color: #721c24;">✗ Inactive</span>
                    {% endif %}
                    | <strong>Display on Campaign:</strong> {{ petition.display_on_campaign_page|yesno:"Yes,No" }}
                    | <strong>Signatures:</strong> {{ petition.signatures.count }}
                    {% if petition.signature_goal %}/ {{ petition.signature_goal }}{% endif %}
                </div>
                {# Use the shared partial for rendering the petition #}
                {% include 'campaigns/partials/petition_display.html' with petition=petition is_preview=True %}
            </div>
        </div>
    </div>
{% endblock %}
